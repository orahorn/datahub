# Роль баз данных в ИУС

Базы данных (БД) по-сути определяют способы хранения и представляения
информации в особом структурированном виде, помогающем человеку
определять порядки её накопления, хранения и выборки.
БД задают парадигмы, по работе с массивами сведений, фактов и других
прикладных и системных показателей из реального мира и вычислительной платформы
(внутернние данные).

Пример внутренних данных - информация по установленному ПО.
Например, RPM-пакеты инексируются Berkeley DB (см. далее)

Важной особенностью БД являются системы управления (СУБД): они определяют
не только файловые форматы хранения, но и способы запросов, обработки и
выдачи данных. СУБД позволяет данным быть доступными несмотря на отключения
электроэнергии, а также при различного рода сбоев.
СУБД содержит программное обеспечение, которое ускоряет доступ к данным
за счёт их кеширования в оперативной памяти (ОЗУ, RAM).
Есть базы данных, хранящиеся в памяти: т.н.
[In memory database](https://ru.wikipedia.org/wiki/%D0%A0%D0%B5%D0%B7%D0%B8%D0%B4%D0%B5%D0%BD%D1%82%D0%BD%D0%B0%D1%8F_%D0%B1%D0%B0%D0%B7%D0%B0_%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D1%85)
или отдельные кеширующие СУБД.

## Локальные СУБД

Локальные СУБД - это такие системы, которые рассчитаны на работу в пределах одного блока оперативной памяти (компьютера).
Сетевые возможности не реализованы или идут как внешние дополнения.

### BerkleyDB (Oracle DBM, GDBM, LMDB, QDBM,...)


### SQLite

СУБД [SQLite](https://ru.wikipedia.org/wiki/SQLite)
не работает по принципу клиент-сервер.
Приложение с SQLite функционалом
использует только библиотеку времени исполнения `libsqlite*.so*` точно,
также, как и остальные разделяемые библиотеки.
Вся база данных лежит во одном файле.
Нулевая конфигурация.
Используется стандарт [SQL-92](https://ru.wikipedia.org/wiki/SQL-92),
активна версия SQLite-3.
SQLite — встраиваемая легковесная SQL система управления базами данных - изначально разрабатывалась как расширение
языка программирования [Tcl](https://ru.wikipedia.org/wiki/Tcl) .
В ОС [Android](https://ru.wikipedia.org/wiki/Android) для работы над приложениями доступна библиотека SQLite.

Практиковаться можно на сайте [REPL](https://repl.it/languages/sqlite)
в запущеном интерпретаторе команд SQL.

Синтаксис помимо стандарта мало чем добавляется,
т.к. нет дополнительного сетевого функционала.

В SQLite не так много разных типов данных.
Вот базовые:

* `NULL` - ничего нет в поле
* Числовые:
	- `INTEGER` - целые
	- `REAL` - вещественные
* `TEXT` - текст
* `BLOB` - всё что угодно (двоичные данные)

С маленькой буквы принято писать команды оболочки (начинаются с точки),
а с большой - сами выражения.

В SQLite нет команд:

* `CREATE DATABASE`
* `DROP DATABASE`


Есть специальные команды:

* `ATTACH DATABASE` - присоединить файл данных для обработки
* `DETACH DATABASE` - отсоединить его
* `VACUUM` -  сборка базы данных. Дефрагментация файла с БД.


Установка библиотеки и утилит:

	sudo apt install sqlite3


Документация:

	sudo apt install sqlite3-doc

Пакет `sqlite3` содержит программы:

* sqldiff - сравнение файлов с данными. Т.е. вывод таких команд, которые из одной СУБД сделают другую.
* sqlite3 - командный интерпретатор. 

Создание базы данных (БД) выполняется командой:

	sqlite3 файл.db

`файл.db` - будет содержать таблицы базы данных.

Создание таблицы (пример, для записей персональных данных):

	create table persons(persid integer, name varchar(20), title varchar(10));

Проверяем, что таблица создалась (ввод начинается с `sqlite> `):

```
sqlite> .tables
persons

sqlite> .schema
CREATE TABLE persons(persid integer, name varchar(20), title varchar(10));
```


Вводим данные:

	sqlite> insert into persons values(1, 'Alexandr Andrienko', 'Boss');

Смотрим содержимое таблицы. Пример всех полей для таблицы persons:

```SQL
select * from persons;
1|Александр|Андриенко|+7-905-486-2232
2|Иван|Маслов|+7-903-476-3441
```


Графическое приложение для просмотра БД содержится в пакете ОС `sqlitebrowser`.
У него [Qt интерфейс](https://ru.wikipedia.org/wiki/Qt)
с компонентом [Scientilla](https://ru.wikipedia.org/wiki/Scintilla).
Алгоритм работы прост.
Вызываем кнопку "Новая база данных": просят указать имя и место файла.
Набираем имя таблицы: параллельно создаётся конструкция "CREATE TABLE".
В той же форме добавляем поля кнопкой "Добавить поле".
Во вкладке "Данные" можно добавлять записи.
Сохраняем базу кнопкой и выходим.
Полученный файл содержит всю базу данных.

Пакет `libsqlite3-dev` содержит заголовочный файл для C/C++:

	/usr/include/sqlite3.h

и также статические библиотеки.



### Резидентная СУБД memcached


### Ретро БД DBase (xbase), Clipper, FoxPro

На рубеже 80-х-90-х годов прошлого века были популярны однофайловые
однопользовательские СУБД для ПК. Как правило для них использовались DBF-файлы.
Сначала использовали системы DBase-III, IV ;
Они были медленными, т.к. использовали интерпретаторы.
Потом появился быстрый компилятор Clipper создающий EXE файлы.
Потом Microsoft 
создала удобный продукт Visual FoxPro (в наши дни не развивается).

Чтобы посмотреть какое ПО Debian/Ubuntu всё ещё поддерживает старые DBF-файлы
достаточно делать запросы к пакетному менеджеру:

	apt search xbase


## клиент-серверные СУБД

Наличие языка SQL способствовало разделению ИУС на две (три) части (звена):

1. Приложение с пользовательским интерфейсом на клиенте - frontend.
2. Сервер (web) приложений (может остустсвовать) - backend
3. Сервер баз данных, работающих с языком SQL.


### MySQL

### PostgreSQL


## распределённые СУБД больших данных (NoSQL)

### MongoDB

### Redis


## Источники информации



