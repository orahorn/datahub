# Окружение, параметры командной строки и конфигурационные файлы

На самом деле - эта тема должна быть до изучения сетевых технологий.
Дело в том, что когда программа только запускается в процесс, то уже
на том же окружении в котором она работает, даже при отсутствии связи есть
информация, которая позволяет управлять настройками, а значит начальным и 
частично последующим её состоянием и функционированием.

1. параметры, которые передаются в командную строку.
2. переменные т.н. среды окружения
3. простенько структурированная информация из текстовых конфигурационных (настроечных) файлов


Когда возникает потребность использовать три вышеназванных метода?
В случаях выполнения однотипных рутинных операций, если вдруг нужно что-то немного поменять,
т.е. при автоматизации процессов обработки данных.

## Опции командной строки

В оболочке, параметры следуют сразу же за имененм команды.
А процесс видит их как массив с конечным размером.

Так на языке Си в самой точке входа в программу в функции `main()`  - этот размер
массива задан в числовой переменной `argc`.


## Переменные окружения процессов


## О конфигурационных файлах

Сразу стоит заметить, что конфигурационные файлы, с допустимой степенью условностью желательно
по формату и назначению отличать от локальных баз данных. Хотя имеются и такие решения, когда параметры работы программ
пытаются положить, читать и редактировать через механизмы СУБД (например, используя SQL).
Т.е. идея состоит в том, что конфигурационный файл должен быть максимально простым, а имеено: иметь минимальный для настройки 
формат. И ещё должна быть возможность производить изменения в конфигурационном файле обычным текстовым редактором.

Хотя, например, в Microsoft Windows, начиная с 1995 года имеется совершенно другой подход, когда разрозненные конфигурационные
файлы пытаются положить из разных мест - в одно - в реестр  и редактировать их одним редактором реестра...
У данного способа есть свои плюсы и минусы:

* Плюс, несомненно в единообразии и скорости поиска
* А минус в том, что этот громоздкий файл:
	- сложен - он не тектсовый и нужно работать со специальной программой
	- единая точка создаёт возможность запортить или потерять данные по ошибке , программной и аппаратной, требуется частое резервное копирование


Итак, простейшим возможным параметром можно назвать текстовый файл в котором каждый параметр записывает значение
в своей строке по порядковому номеру. Например, значение первого параметра в первой строке, второго - во втором и т.д.
Неудобство подхода в том, что человеку надо знать параметры с какими именами в каких по порядку строках нужно вносить.

Более удобным стал подход когда переменные стали записываться как выводят окружения процесса. Т.е. в формате:

```
имя1=значение1
имя2=значение2
...
имяN=значениеN
...
```

Следующим совершенствованием формата может быть введение комментариев к переменным, которые обычно 
отсекают текст от разбора специальным символом. Обычно это решётка (`#`), но бывают и варианты с точкой запятой (`;`)
и даже двумя символами (допустим два слеша, как в Си - `//`). Короче говоря, тогда конфигурационный файл принимает примерно
такое содержимое:

```
# коментарий1
имя1=значение1
# коментарий2
имя2=значение2
...
имяN=значениеN
...
# коментарий M
...
```

Ещё одним вариантом может быть добавление в конфигурационный файл функции секционирования.
Это позволяет поделить содержимое на непересекающиеся пространства переменных,
которые группируются начиная с описания имени секции в квадратных скобках.
Тогда файл в общем виде будет таким:

```
[секция_A]
# коментарий1
имя1=значение1
# коментарий2
имя2=значение2
...
[секция_B]
имяN=значениеN
...
# коментарий M
...
```

Т.е. в примере выше - первые две и некоторые последующие переменные конфигурации будут в секции `A`,
а начиная с переменной N - в секции `B`.

Разбор (парсинг) текста в более простых случаях можно реализовать прямо в коде программы
однако в некоторых случая имеет смысл воспользоваться готовыми библиотеками кода.

Например, на языке программирования (ЯП) Python 3 есть модуль, который так и называется:
[configparser](https://docs.python.org/3/library/configparser.html). Дополнительно его ставить не требуется,
т.к. он входит в базовую поставку дистрибутива.

Формат текста конфигурационного файла может быть таковым, ещё более сложным, что требуется его
разметка (Markup). И тут используют широкоизвестный стандарт XML.


